"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.canonicalize = void 0;
function canonicalize(obj) {
    function _orderKeys(obj) {
        const orderedEntries = Object.entries(obj).sort((a, b) => a[0].localeCompare(b[0]));
        orderedEntries.forEach((value) => {
            if (value[1] instanceof Date) {
                value[1] = value[1].toISOString();
            }
            else if (value[1] instanceof Object) {
                value[1] = _orderKeys(value[1]);
            }
        });
        const orderedObj = Object.fromEntries(orderedEntries);
        return orderedObj;
    }
    const ordererObj = _orderKeys(obj);
    return JSON.stringify(ordererObj);
}
exports.canonicalize = canonicalize;
